"use strict";(self["webpackChunkfast_front"]=self["webpackChunkfast_front"]||[]).push([[173],{2173:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});n(98998),n(65716),n(40702);var a=n(59835),u=n(86970),o={class:"row justify-between"},r={class:"text-h2 text-weight-bold"},i={class:"column items-center column"},l=(0,a._)("div",{class:"full-width"},[(0,a._)("div",{class:"q-px-md q-py-md bg-secondary text-white"}," 参数修改 ")],-1),s={class:"overflow-hidden bg-transparent q-pa-md",style:{width:"200px"}},c={class:"row q-col-gutter-md"},p={class:"bg-white rounded-borders overflow-hidden"},d={class:"row justify-between"},f={class:"text-subtitle2 col"},m={class:"column justify-end q-pl-sm"};function g(e,t,n,g,w,v){var h=(0,a.up)("q-skeleton"),b=(0,a.up)("q-input"),y=(0,a.up)("q-card"),k=(0,a.up)("q-popup-proxy"),x=(0,a.up)("q-icon"),q=(0,a.up)("q-separator"),_=(0,a.up)("q-btn"),Z=(0,a.up)("q-card-section"),S=(0,a.up)("q-spinner-dots"),M=(0,a.up)("MarkdownViewer"),j=(0,a.up)("q-fab-action"),P=(0,a.up)("q-fab"),Q=(0,a.up)("q-page-sticky"),W=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(W,{class:"column items-center q-gutter-md q-py-md"},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{flat:"",class:"main-width bg-primary text-white"},{default:(0,a.w5)((function(){return[(0,a.Wm)(Z,null,{default:(0,a.w5)((function(){return[(0,a._)("div",o,[(0,a._)("div",r,[(0,a.Uk)((0,u.zw)(e.data.appMeta.title),1),e.data.appMeta.title?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(h,{key:0,width:"100px",bordered:"",type:"text"}))]),(0,a.Wm)(x,{size:"28px",color:"accent",name:"settings"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{class:"no-shadow bg-transparent"},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{flat:"",class:"bg-main"},{default:(0,a.w5)((function(){return[(0,a._)("div",i,[l,(0,a._)("div",s,[(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.appMeta.values,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{key:t,class:"col-12"},[(0,a._)("div",p,[(0,a.Wm)(b,{"bg-color":"white",borderless:"",modelValue:e.defaultValue,"onUpdate:modelValue":function(t){return e.defaultValue=t},label:e.comment,class:"q-px-md bg-white","hide-bottom-space":"",placeholder:"Placeholder",standout:"bg-white"},null,8,["modelValue","onUpdate:modelValue","label"])])])})),128))])])])]})),_:1})]})),_:1})]})),_:1})]),(0,a.Wm)(q,{class:"q-my-md",dark:""}),(0,a._)("div",d,[(0,a._)("pre",f,[(0,a.Uk)((0,u.zw)(e.data.appMeta.comment),1),e.data.appMeta.title?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(h,{key:0,bordered:"",type:"text"}))]),(0,a._)("div",m,[(0,a.Wm)(_,{flat:"",round:"",size:"20px",disable:e.data.isSending,class:"text-white bg-green-6",onClick:t[0]||(t[0]=function(t){return e.onRun()}),icon:"play_arrow"},null,8,["disable"])])])]})),_:1})]})),_:1}),(0,a.Wm)(y,{flat:"",class:"main-width overflow-hidden bg-white"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{"bg-color":"white",borderless:"",autofocus:"","hide-bottom-space":"",placeholder:e.data.appMeta.example,class:"q-px-md q-py-md","input-class":"hide-scrollbar","input-style":"min-height:50px;max-height:unset;color:black;font-size:18px;padding:0;",autogrow:"",modelValue:e.data.input,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.input=t}),type:"textarea"},null,8,["placeholder","modelValue"])]})),_:1}),""!=e.data.output||e.data.isSending?((0,a.wg)(),(0,a.j4)(y,{key:0,flat:"",class:"main-width overflow-hidden q-px-md q-py-sm"},{default:(0,a.w5)((function(){return[""==e.data.output?((0,a.wg)(),(0,a.j4)(S,{key:0,size:"40px"})):((0,a.wg)(),(0,a.j4)(M,{key:1,content:e.data.output},null,8,["content"]))]})),_:1})):(0,a.kq)("",!0),(0,a.Wm)(Q,{position:"bottom-right",offset:[18,18]},{default:(0,a.w5)((function(){return[(0,a.Wm)(P,{flat:"",style:{background:"rgba(154, 154, 154, 0.5)"},"label-class":"bg-accent","text-color":"black",color:"transparent",icon:"keyboard_arrow_up",direction:"up"},{default:(0,a.w5)((function(){return[(0,a.Wm)(j,{label:"开发中","external-label":"",unelevated:"","label-position":"left",color:"accent","text-color":"white",icon:"settings"})]})),_:1})]})),_:1})]})),_:1})}var w=n(47798),v=n.n(w),h=n(1001),b=n.n(h),y=n(4138),k=n.n(y),x=(n(34442),n(31408),n(52519),n(61732),n(25328),n(69665),n(59437),n(24110),n(60499)),q=n(82289),_=n(27241),Z=n(19302),S=n(28339),M=n(53173),j=(0,a.aZ)({name:"PromptApp",setup:function(){var e=(0,Z.Z)(),t=(0,S.yj)(),n=(0,S.tv)(),u=(0,M.a)(),o=t.query.promptId;if(!o)return e.notify({type:"negative",message:"prompt不存在"}),void n.back();String.prototype.interpolate=function(e){try{var t=Object.keys(e),n=Object.values(e);return k()(Function,t.concat(["return `".concat(this,"`;")])).apply(void 0,n)}catch(a){return"出错了："+a}};var r=(0,x.iH)({appMeta:{},input:"",output:"",isSetting:!1,isSending:!1});function i(e,t){var n={};e&&e.forEach((function(e){n[e.name]=e.defaultValue}));for(var a=JSON.parse(JSON.stringify(t)),u=0;u<t.length;u++)a[u].content=t[u].content.interpolate(n);return a}function l(t){t&&e.notify({type:"negative",message:"出错了！错误信息："+t})}function s(){if(""!=r.value.input){r.value.output="",r.value.isSending=!0;var t=i(r.value.appMeta.values,r.value.appMeta.messages);t.push({role:"user",content:r.value.input}),(0,q.fh)(t,(function(e){r.value.output+=e}),(function(t,n){switch(t){case"DONE":break;case"Insufficient balance":e.notify({type:"negative",message:"余额不足，请先前往个人信息页面充值"}),l();break;default:break}})).catch(l).finally((function(){r.value.isSending=!1}))}else e.notify({type:"negative",message:"请输入后运行！"})}return(0,a.bv)(b()(v()().mark((function t(){var a;return v()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.getPromptAppPublicList(o);case 2:if(a=t.sent,!(a.length<=0)){t.next=7;break}return e.notify({type:"negative",message:"prompt不存在"}),n.back(),t.abrupt("return");case 7:r.value.appMeta=a[0].meta;case 8:case"end":return t.stop()}}),t)})))),{buildInitMessage:i,onRun:s,data:r}},components:{MarkdownViewer:_["default"]}}),P=n(11639),Q=n(69885),W=n(44458),V=n(63190),H=n(57133),O=n(22857),z=n(46264),C=n.n(z),F=(n(80676),n(65735),n(58665),n(32074)),I=n(56362),N=n(74397),U=n(65987),D=(0,U.L)({name:"QPopupProxy",props:C()(C()({},N.u),{},{breakpoint:{type:[String,Number],default:450}}),emits:["show","hide"],setup:function(e,t){var n=t.slots,u=t.emit,o=t.attrs,r=(0,a.FN)(),i=r.proxy,l=i.$q,s=(0,x.iH)(!1),c=(0,x.iH)(null),p=(0,a.Fl)((function(){return parseInt(e.breakpoint,10)})),d=(0,N.Z)({showing:s}),f=d.canShow;function m(){return l.screen.width<p.value||l.screen.height<p.value?"dialog":"menu"}var g=(0,x.iH)(m()),w=(0,a.Fl)((function(){return"menu"===g.value?{maxHeight:"99vh"}:{}}));function v(e){s.value=!0,u("show",e)}function h(e){s.value=!1,g.value=m(),u("hide",e)}return(0,a.YP)((function(){return m()}),(function(e){!0!==s.value&&(g.value=e)})),Object.assign(i,{show:function(e){!0===f(e)&&c.value.show(e)},hide:function(e){c.value.hide(e)},toggle:function(e){c.value.toggle(e)}}),function(){var t,u=C()(C()(C()({ref:c},w.value),o),{},{onShow:v,onHide:h});return"dialog"===g.value?t=F.Z:(t=I.Z,Object.assign(u,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),(0,a.h)(t,u,n.default)}}}),A=n(66611),E=n(50926),J=n(24455),L=n(47501),R=n(30627),Y=n(19361),B=n(10935),K=n(69984),$=n.n(K);const G=(0,P.Z)(j,[["render",g]]);var T=G;$()(j,"components",{QPage:Q.Z,QCard:W.Z,QCardSection:V.Z,QSkeleton:H.ZP,QIcon:O.Z,QPopupProxy:D,QInput:A.Z,QSeparator:E.Z,QBtn:J.Z,QSpinnerDots:L.Z,QPageSticky:R.Z,QFab:Y.Z,QFabAction:B.Z})}}]);