"use strict";(globalThis["webpackChunkfast_front"]=globalThis["webpackChunkfast_front"]||[]).push([[45],{33017:(e,t,s)=>{s.d(t,{A8:()=>i});var n=s(91569);const l="/template";async function i(e=0,t=10){return(0,n.api)({url:l+"/list",method:"get",params:{page:e,pageSize:t}})}},50707:(e,t,s)=>{s(6822),s(25231),s(3075),s(90548),s(42079),s(58218),s(96046),s(69665),(()=>{const e=()=>{const e=new Error("not implemented");return e.code="ENOSYS",e};if(!globalThis.fs){let t="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(e,n){t+=s.decode(n);const l=t.lastIndexOf("\n");return-1!=l&&(console.log(t.substr(0,l)),t=t.substr(l+1)),n.length},write(t,s,n,l,i,a){if(0!==n||l!==s.length||null!==i)return void a(e());const o=this.writeSync(t,s);a(null,o)},chmod(t,s,n){n(e())},chown(t,s,n,l){l(e())},close(t,s){s(e())},fchmod(t,s,n){n(e())},fchown(t,s,n,l){l(e())},fstat(t,s){s(e())},fsync(e,t){t(null)},ftruncate(t,s,n){n(e())},lchown(t,s,n,l){l(e())},link(t,s,n){n(e())},lstat(t,s){s(e())},mkdir(t,s,n){n(e())},open(t,s,n,l){l(e())},read(t,s,n,l,i,a){a(e())},readdir(t,s){s(e())},readlink(t,s){s(e())},rename(t,s,n){n(e())},rmdir(t,s){s(e())},stat(t,s){s(e())},symlink(t,s,n){n(e())},truncate(t,s,n){n(e())},unlink(t,s){s(e())},utimes(t,s,n,l){l(e())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw e()},pid:-1,ppid:-1,umask(){throw e()},cwd(){throw e()},chdir(){throw e()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const t=new TextEncoder("utf-8"),s=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{0!==e&&console.warn("exit code:",e)},this._exitPromise=new Promise((e=>{this._resolveExitPromise=e})),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const e=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),s=this.mem.getInt32(e+4,!0);return t+4294967296*s},l=e=>{const t=this.mem.getFloat64(e,!0);if(0===t)return;if(!isNaN(t))return t;const s=this.mem.getUint32(e,!0);return this._values[s]},i=(e,t)=>{const s=2146959360;if("number"===typeof t&&0!==t)return isNaN(t)?(this.mem.setUint32(e+4,s,!0),void this.mem.setUint32(e,0,!0)):void this.mem.setFloat64(e,t,!0);if(void 0===t)return void this.mem.setFloat64(e,0,!0);let n=this._ids.get(t);void 0===n&&(n=this._idPool.pop(),void 0===n&&(n=this._values.length),this._values[n]=t,this._goRefCounts[n]=0,this._ids.set(t,n)),this._goRefCounts[n]++;let l=0;switch(typeof t){case"object":null!==t&&(l=1);break;case"string":l=2;break;case"symbol":l=3;break;case"function":l=4;break}this.mem.setUint32(e+4,s|l,!0),this.mem.setUint32(e,n,!0)},a=e=>{const t=n(e+0),s=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,s)},o=e=>{const t=n(e+0),s=n(e+8),i=new Array(s);for(let n=0;n<s;n++)i[n]=l(t+8*n);return i},r=e=>{const t=n(e+0),l=n(e+8);return s.decode(new DataView(this._inst.exports.mem.buffer,t,l))},c=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=n(e+8),s=n(e+16),l=this.mem.getInt32(e+24,!0);fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,s,l))},"runtime.resetMemoryDataView":e=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":t=>{t>>>=0,e(t+8,1e6*(c+performance.now()))},"runtime.walltime":t=>{t>>>=0;const s=(new Date).getTime();e(t+8,s/1e3),this.mem.setInt32(t+16,s%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout((()=>{this._resume();while(this._scheduledTimeouts.has(t))console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()}),n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(a(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,0===this._goRefCounts[t]){const e=this._values[t];this._values[t]=null,this._ids.delete(e),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,r(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(l(e+8),r(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(l(e+8),r(e+16),l(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(l(e+8),r(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(l(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(l(e+8),n(e+16),l(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=l(e+8),s=Reflect.get(t,r(e+16)),n=o(e+32),a=Reflect.apply(s,t,n);e=this._inst.exports.getsp()>>>0,i(e+56,a),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=l(e+8),s=o(e+16),n=Reflect.apply(t,void 0,s);e=this._inst.exports.getsp()>>>0,i(e+40,n),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=l(e+8),s=o(e+16),n=Reflect.construct(t,s);e=this._inst.exports.getsp()>>>0,i(e+40,n),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":t=>{t>>>=0,e(t+16,parseInt(l(t+8).length))},"syscall/js.valuePrepareString":s=>{s>>>=0;const n=t.encode(String(l(s+8)));i(s+16,n),e(s+24,n.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=l(e+8);a(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,l(e+8)instanceof l(e+16)?1:0)},"syscall/js.copyBytesToGo":t=>{t>>>=0;const s=a(t+8),n=l(t+32);if(!(n instanceof Uint8Array||n instanceof Uint8ClampedArray))return void this.mem.setUint8(t+48,0);const i=n.subarray(0,s.length);s.set(i),e(t+40,i.length),this.mem.setUint8(t+48,1)},"syscall/js.copyBytesToJS":t=>{t>>>=0;const s=l(t+8),n=a(t+16);if(!(s instanceof Uint8Array||s instanceof Uint8ClampedArray))return void this.mem.setUint8(t+48,0);const i=n.subarray(0,s.length);s.set(i),e(t+40,i.length),this.mem.setUint8(t+48,1)},debug:e=>{console.log(e)}}}}async run(e){if(!(e instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=e,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let s=4096;const n=e=>{const n=s,l=t.encode(e+"\0");return new Uint8Array(this.mem.buffer,s,l.length).set(l),s+=l.length,s%8!==0&&(s+=8-s%8),n},l=this.argv.length,i=[];this.argv.forEach((e=>{i.push(n(e))})),i.push(0);const a=Object.keys(this.env).sort();a.forEach((e=>{i.push(n(`${e}=${this.env[e]}`))})),i.push(0);const o=s;i.forEach((e=>{this.mem.setUint32(s,e,!0),this.mem.setUint32(s+4,0,!0),s+=8}));const r=12288;if(s>=r)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(l,o),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(e){const t=this;return function(){const s={id:e,this:this,args:arguments};return t._pendingEvent=s,t._resume(),s.result}}}})()},8045:(e,t,s)=>{s.r(t),s.d(t,{default:()=>z});var n=s(59835);const l=(0,n._)("div",{class:"text-h6 q-pa-md text-bold"},"常用模版",-1),i=(0,n._)("div",null,"依赖加载中...",-1);function a(e,t,s,a,o,r){const c=(0,n.up)("render-template"),u=(0,n.up)("q-separator"),m=(0,n.up)("q-spinner-gears"),h=(0,n.up)("q-inner-loading"),d=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(d,null,{default:(0,n.w5)((()=>[l,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.rows.data.list,((t,s)=>((0,n.wg)(),(0,n.j4)(c,{key:s,name:t.title,descript:t.remark,renderFunc:e.renderFunc,val:t.defaultValues,tpl:t.template},null,8,["name","descript","renderFunc","val","tpl"])))),128)),(0,n.Wm)(u),(0,n.Wm)(h,{showing:e.wasmLoading},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{size:"50px",color:"primary"}),i])),_:1},8,["showing"])])),_:1})}var o=s(19302),r=s(65054),c=s(60499),u=s(56523),m=s(26642),h=s(32133),d=s(40270);const p={class:"column q-pa-md"},g={class:"row items-center q-col-gutter-md",style:{width:"100%"}},v={class:"col-12 col-sm-6"},f={class:"q-gutter-xs"},y={class:"template-text-input"},w={class:"col-12 col-sm-6"},b={class:"q-gutter-xs"},_={class:"template-text-input"},x={class:"col-12"},T={class:"q-gutter-xs"},C={class:"template-text-input"};function R(e,t,s,l,i,a){const o=(0,n.up)("q-btn"),r=(0,n.up)("codemirror"),c=(0,n.up)("q-expansion-item");return(0,n.wg)(),(0,n.j4)(c,{label:e.name,caption:e.descript,"header-class":"bg-primary text-white",class:"expansion"},{default:(0,n.w5)((()=>[(0,n._)("div",p,[(0,n._)("div",g,[(0,n._)("div",v,[(0,n._)("div",f,[(0,n.Wm)(o,{unelevated:"",square:"",icon:"start",color:"accent",label:"渲染",onClick:e.handleTemplate},null,8,["onClick"]),(0,n.Wm)(o,{unelevated:"",square:"",color:"primary",label:"复制到剪切板",onClick:t[0]||(t[0]=t=>e.copyHandle(e.val))}),(0,n.Wm)(o,{unelevated:"",square:"",icon:"cancel",color:"primary",label:"还原",onClick:e.handleInital},null,8,["onClick"])]),(0,n._)("div",y,[(0,n.Wm)(r,{modelValue:e.newVal,"onUpdate:modelValue":t[1]||(t[1]=t=>e.newVal=t),class:"template-text-input",placeholder:"变量",style:{height:"400px"},autofocus:!1,"indent-with-tab":!0,"tab-size":2,extensions:e.extensions,onReady:e.handleReady,onChange:e.handleCache},null,8,["modelValue","extensions","onReady","onChange"])])]),(0,n._)("div",w,[(0,n._)("div",b,[(0,n.Wm)(o,{unelevated:"",square:"",color:"primary",label:"复制到剪切板",onClick:t[2]||(t[2]=t=>e.copyHandle(e.newTpl))})]),(0,n._)("div",_,[(0,n.Wm)(r,{modelValue:e.newTpl,"onUpdate:modelValue":t[3]||(t[3]=t=>e.newTpl=t),disabled:"",class:"template-text-input",placeholder:"渲染模版",style:{height:"400px"},autofocus:!1,"indent-with-tab":!0,"tab-size":2,extensions:e.extensions,onReady:e.handleReady,onChange:e.handleTemplate},null,8,["modelValue","extensions","onReady","onChange"])])]),(0,n._)("div",x,[(0,n._)("div",T,[(0,n.Wm)(o,{unelevated:"",square:"",color:"primary",label:"复制到剪切板",onClick:t[4]||(t[4]=t=>e.copyHandle(e.output))})]),(0,n._)("div",C,[(0,n.Wm)(r,{modelValue:e.output,"onUpdate:modelValue":t[5]||(t[5]=t=>e.output=t),disabled:"",class:"template-text-input",placeholder:"渲染结果",style:{height:"600px"},autofocus:!1,"indent-with-tab":!0,"tab-size":2,extensions:e.extensions,onReady:e.handleReady,onChange:e.handleTemplate},null,8,["modelValue","extensions","onReady","onChange"])])])])])])),_:1},8,["label","caption"])}const U=(0,n.aZ)({name:"RenderTemplate",props:{name:String,descript:String,val:String,tpl:String,renderFunc:Function},setup(e){const t=(0,o.Z)(),s=`GoTemplate_${e.name}`;let n=(0,c.iH)(e.val);const l=(0,c.iH)(e.tpl),i=(0,c.iH)(""),a=(0,c.iH)(!1),u=t.localStorage.getItem(s);null!=u&&""!=u&&(n.value=u);const d=()=>{i.value=e.renderFunc(n.value,l.value),a.value=!0},p=e=>{t.localStorage.set(s,e)},g=()=>{n.value=e.val,p(n.value)},v=[(0,m.eJ)(),h.vk],f=(0,c.XI)(),y=e=>{f.value=e.view};let w=e=>{(0,r.Z)(e).then((()=>{t.notify({message:"复制成功！",color:"positive",timeout:"1"})})).catch((()=>{t.notify({message:"复制失败！",color:"negative",timeout:"1"})}))};return{extensions:v,handleReady:y,log:console.log,newVal:n,newTpl:l,output:i,isOutput:a,copyHandle:w,handleTemplate:d,handleCache:p,handleInital:g}},components:{Codemirror:u.Z1}});var k=s(11639),j=s(50651),I=s(24455),E=s(18149),S=s(490),q=s(69984),Z=s.n(q);const V=(0,k.Z)(U,[["render",R]]),W=V;Z()(U,"components",{QExpansionItem:j.Z,QBtn:I.Z,QField:E.Z,QItem:S.Z});const A=[{name:"tdmq cloud",descript:"dd",val:s(48870).Z,tpl:s(98884).Z}];s(50707);var P=s(33017);const D="GoTemplate",H=(0,n.aZ)({name:"GoTemplate",setup(){const e=(0,o.Z)(),t=s(48870).Z,l=s(98884).Z,i=new Go;let a=(0,c.iH)(!0);const u=async()=>{const e=await fetch("template.wasm"),t=await e.arrayBuffer(),s=await WebAssembly.instantiate(t,i.importObject);i.run(s.instance),a.value=!1};u();const p=(e,t)=>render(e,t),g=e.localStorage.getItem(D),v=(0,c.iH)(""),f=(0,c.iH)(""),y=[(0,m.eJ)(),h.vk],w=(0,c.XI)(),b=e=>{w.value=e.view};let _=t=>{f.value=d.lW.from(t,"utf-8").toString("base64"),e.localStorage.set(D,f.value)},x=t=>{v.value=d.lW.from(t,"base64").toString("utf8"),e.localStorage.set(D,f.value)};g&&(f.value=g,x(g));const T=(0,c.iH)({data:[]});(0,n.wF)((async()=>{T.value=await(0,P.A8)(0,10)}));let C=t=>{(0,r.Z)(t).then((()=>{e.notify({message:"复制成功！",color:"positive",timeout:"1"})})).catch((()=>{e.notify({message:"复制失败！",color:"negative",timeout:"1"})}))};return(0,P.A8)(0,10),{code:v,extensions:y,handleReady:b,log:console.log,handSrc:_,handDst:x,base64:f,copyHandle:C,wasmLoading:a,renderFunc:p,val:t,tpl:l,tplList:A,rows:T}},components:{RenderTemplate:W}});var O=s(69885),F=s(50926),N=s(60854),L=s(9120);const G=(0,k.Z)(H,[["render",a]]),z=G;Z()(H,"components",{QPage:O.Z,QSeparator:F.Z,QInnerLoading:N.Z,QSpinnerGears:L.Z,QField:E.Z})},98884:(e,t,s)=>{s.d(t,{Z:()=>n});const n='#############################################\n# 查询PVC信息\ncurl --location --request GET \'http://tdmq-cloud.tdmq-system.svc.cluster.local:10105/pvc?releaseName={{ .clusterId }}&label={{ .pvcLabel }}\' | python3 -m json.tool\n\n\n#############################################\n# pvc扩容\ncurl -X PUT "http://tdmq-cloud:10105/pvc" -H "Authorization: 39c20f65-dc80-4db4-ac23-601eb24d9b0b" -H "Content-Type: application/json" -d \'\n{\n  "releaseName": "{{ .clusterId }}",\n  "label": "{{ .pvcLabel }}",\n  "storage": {{ .pvcStorage }}\n}\n\' | python3 -m json.tool\n\n\n#############################################\n# pvc 同步成最大的盘\ncurl -X POST "http://tdmq-cloud:10105/pvc" -H "Authorization: 39c20f65-dc80-4db4-ac23-601eb24d9b0b" -H "Content-Type: application/json" -d \'\n{\n  "releaseName": "{{ .clusterId }}",\n  "label": "{{ .pvcLabel }}"\n}\n\' | python3 -m json.tool\n\n\n#############################################\n'},48870:(e,t,s)=>{s.d(t,{Z:()=>n});const n='# 集群名\nclusterId: "pulsar-zzj"\n\n################################\n# PVC 扩容相关\n# pvc 标签\npvcLabel: "pulsar-bookie-journal"\npvcStorage: 57\n'}}]);