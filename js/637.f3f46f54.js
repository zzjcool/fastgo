"use strict";(globalThis["webpackChunkfast_front"]=globalThis["webpackChunkfast_front"]||[]).push([[637],{30222:(e,a,l)=>{l.d(a,{x:()=>n});var t=l(91569);const o="/user";async function n(e,a){return(0,t.api)({url:o+"/login",method:"post",data:{email:e,password:a}})}},32637:(e,a,l)=>{l.r(a),l.d(a,{default:()=>W});var t=l(59835);const o=(0,t._)("div",null,[(0,t.Uk)(" 测试账号：test@fastgo.run"),(0,t._)("br"),(0,t.Uk)(" 测试密码：123456 ")],-1),n={style:{width:"350px","max-width":"90%"}},r={style:{width:"350px","max-width":"90%"}},s={style:{width:"350px","max-width":"90%"}},i={class:"row q-col-gutter-md"},c={class:"col-6"},u={class:"col-6"};function d(e,a,l,d,m,p){const g=(0,t.up)("q-icon"),w=(0,t.up)("q-input"),y=(0,t.up)("q-btn"),v=(0,t.up)("q-form"),h=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(h,{class:"flex flex-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{class:"items-center flex flex-center column q-gutter-lg"},{default:(0,t.w5)((()=>[o,(0,t._)("div",n,[(0,t.Wm)(w,{color:"primary","label-color":"secondary","bg-color":"white",outlined:"",modelValue:e.loginData.email.value,"onUpdate:modelValue":a[0]||(a[0]=a=>e.loginData.email.value=a),label:"邮箱"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(g,{name:"person",color:"primary"})])),_:1},8,["modelValue"])]),(0,t._)("div",r,[(0,t.Wm)(w,{color:"primary","label-color":"secondary","bg-color":"white",type:"password",outlined:"",modelValue:e.loginData.password.value,"onUpdate:modelValue":a[1]||(a[1]=a=>e.loginData.password.value=a),label:"密码"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(g,{name:"lock",color:"primary"})])),_:1},8,["modelValue"])]),(0,t._)("div",s,[(0,t._)("div",i,[(0,t._)("div",c,[(0,t.Wm)(y,{unelevated:"",color:"secondary",label:"注册",type:"submit",style:{width:"100%"},to:{name:"register"}})]),(0,t._)("div",u,[(0,t.Wm)(y,{unelevated:"",color:"primary",label:"登陆",type:"submit",style:{width:"100%"},onClick:a[2]||(a[2]=a=>e.loginOnclick(e.loginData.email.value,e.loginData.password.value))})])])])])),_:1})])),_:1})}l(69665);var m=l(60499),p=l(96928),g=l(30222),w=l(28339),y=l(19302);const v=(0,t.aZ)({name:"LoginPage",setup(){let e=(0,w.tv)(),a=(0,w.yj)(),l=(0,y.Z)();const t=(0,p.t)(),o=(0,m.BK)((0,m.qj)({email:"",password:""}));async function n(o,n){await(0,g.x)(o,n).then((o=>{l.notify({type:"positive",message:"登陆成功！"}),t.setToken(o.data.token),e.push({name:a.query.next||"home"})})).catch((e=>{null!=e&&l.notify({type:"negative",message:"用户名或密码错误！"})}))}return{loginOnclick:n,loginData:o}}});var h=l(11639),f=l(69885),b=l(8326),_=l(66611),x=l(22857),k=l(24455),q=l(69984),Z=l.n(q);const D=(0,h.Z)(v,[["render",d]]),W=D;Z()(v,"components",{QPage:f.Z,QForm:b.Z,QInput:_.Z,QIcon:x.Z,QBtn:k.Z})}}]);