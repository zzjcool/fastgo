"use strict";(self["webpackChunkfast_front"]=self["webpackChunkfast_front"]||[]).push([[72],{72425:function(e,t,a){a.r(t),a.d(t,{default:function(){return B}});a(98998),a(65716),a(40702);var n=a(59835),o=a(86970),r={class:"row justify-between"},u={class:"text-h2 text-weight-bold"},l={class:"column items-center column"},i=(0,n._)("div",{class:"full-width"},[(0,n._)("div",{class:"q-px-md q-py-md bg-secondary text-white"}," 参数修改 ")],-1),s={class:"overflow-hidden bg-transparent q-pa-md",style:{width:"200px"}},c={class:"row q-col-gutter-md"},p={class:"bg-white rounded-borders overflow-hidden"},d={class:"row justify-between"},f={class:"text-subtitle2 col"},m={class:"column justify-end q-pl-sm"};function g(e,t,a,g,w,b){var h=(0,n.up)("q-skeleton"),v=(0,n.up)("q-input"),y=(0,n.up)("q-card"),k=(0,n.up)("q-popup-proxy"),q=(0,n.up)("q-icon"),x=(0,n.up)("q-separator"),_=(0,n.up)("q-btn"),Z=(0,n.up)("q-card-section"),S=(0,n.up)("q-spinner-dots"),M=(0,n.up)("MarkdownViewer"),Q=(0,n.up)("q-fab-action"),W=(0,n.up)("q-fab"),j=(0,n.up)("q-page-sticky"),V=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(V,{class:"column items-center q-gutter-md q-py-md"},{default:(0,n.w5)((function(){return[(0,n.Wm)(y,{flat:"",class:"main-width bg-primary text-white"},{default:(0,n.w5)((function(){return[(0,n.Wm)(Z,null,{default:(0,n.w5)((function(){return[(0,n._)("div",r,[(0,n._)("div",u,[(0,n.Uk)((0,o.zw)(e.data.appMeta.title),1),e.data.appMeta.title?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(h,{key:0,width:"100px",bordered:"",type:"text"}))]),(0,n.Wm)(q,{size:"28px",color:"accent",name:"settings"},{default:(0,n.w5)((function(){return[(0,n.Wm)(k,{class:"no-shadow bg-transparent"},{default:(0,n.w5)((function(){return[(0,n.Wm)(y,{flat:"",class:"bg-main"},{default:(0,n.w5)((function(){return[(0,n._)("div",l,[i,(0,n._)("div",s,[(0,n._)("div",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.data.appMeta.values,(function(e,t){return(0,n.wg)(),(0,n.iD)("div",{key:t,class:"col-12"},[(0,n._)("div",p,[(0,n.Wm)(v,{"bg-color":"white",borderless:"",modelValue:e.defaultValue,"onUpdate:modelValue":function(t){return e.defaultValue=t},label:e.comment,class:"q-px-md bg-white","hide-bottom-space":"",placeholder:"Placeholder",standout:"bg-white"},null,8,["modelValue","onUpdate:modelValue","label"])])])})),128))])])])]})),_:1})]})),_:1})]})),_:1})]),(0,n.Wm)(x,{class:"q-my-md",dark:""}),(0,n._)("div",d,[(0,n._)("pre",f,[(0,n.Uk)((0,o.zw)(e.data.appMeta.comment),1),e.data.appMeta.title?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(h,{key:0,bordered:"",type:"text"}))]),(0,n._)("div",m,[(0,n.Wm)(_,{flat:"",round:"",size:"20px",disable:e.data.isSending,class:"text-white bg-green-6",onClick:t[0]||(t[0]=function(t){return e.onRun()}),icon:"play_arrow"},null,8,["disable"])])])]})),_:1})]})),_:1}),(0,n.Wm)(y,{flat:"",class:"main-width overflow-hidden bg-white"},{default:(0,n.w5)((function(){return[(0,n.Wm)(v,{"bg-color":"white",borderless:"",autofocus:"","hide-bottom-space":"",placeholder:e.data.appMeta.example,class:"q-px-md q-py-md","input-class":"hide-scrollbar","input-style":"min-height:50px;max-height:unset;color:black;font-size:18px;padding:0;",autogrow:"",modelValue:e.data.input,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.input=t}),type:"textarea"},null,8,["placeholder","modelValue"])]})),_:1}),""!=e.data.output||e.data.isSending?((0,n.wg)(),(0,n.j4)(y,{key:0,flat:"",class:"main-width overflow-hidden q-px-md q-py-sm"},{default:(0,n.w5)((function(){return[""==e.data.output?((0,n.wg)(),(0,n.j4)(S,{key:0,size:"40px"})):((0,n.wg)(),(0,n.j4)(M,{key:1,content:e.data.output},null,8,["content"]))]})),_:1})):(0,n.kq)("",!0),(0,n.Wm)(j,{position:"bottom-right",offset:[18,18]},{default:(0,n.w5)((function(){return[(0,n.Wm)(W,{flat:"",style:{background:"rgba(154, 154, 154, 0.5)"},"label-class":"bg-accent","text-color":"black",color:"transparent",icon:"keyboard_arrow_up",direction:"up"},{default:(0,n.w5)((function(){return[(0,n.Wm)(Q,{label:"开发中","external-label":"",unelevated:"","label-position":"left",color:"accent","text-color":"white",icon:"settings"})]})),_:1})]})),_:1})]})),_:1})}var w=a(47798),b=a.n(w),h=a(1001),v=a.n(h),y=a(4138),k=a.n(y),q=(a(34442),a(31408),a(52519),a(61732),a(25328),a(69665),a(59437),a(24110),a(60499)),x=a(82289),_=a(37437),Z=a(19302),S=a(28339),M=a(53173),Q=(0,n.aZ)({name:"PromptApp",setup:function(){var e=(0,Z.Z)(),t=(0,S.yj)(),a=(0,S.tv)(),o=(0,M.a)(),r=t.query.promptId;if(!r)return e.notify({type:"negative",message:"prompt不存在"}),void a.back();String.prototype.interpolate=function(e){try{var t=Object.keys(e),a=Object.values(e);return k()(Function,t.concat(["return `".concat(this,"`;")])).apply(void 0,a)}catch(n){return"出错了："+n}};var u=(0,q.iH)({appMeta:{},input:"",output:"",isSetting:!1,isSending:!1});function l(e,t){var a={};e&&e.forEach((function(e){a[e.name]=e.defaultValue}));for(var n=JSON.parse(JSON.stringify(t)),o=0;o<t.length;o++)n[o].content=t[o].content.interpolate(a);return n}function i(t){t&&e.notify({type:"negative",message:"出错了！错误信息："+t})}function s(){if(""!=u.value.input){u.value.output="",u.value.isSending=!0;var t=l(u.value.appMeta.values,u.value.appMeta.messages);t.push({role:"user",content:u.value.input}),(0,x.fh)(t,(function(e){u.value.output+=e}),(function(t,a){switch(t){case"DONE":break;case"Insufficient balance":e.notify({type:"negative",message:"余额不足，请先前往个人信息页面充值"}),i();break;default:console.log(t,a);break}})).catch(i).finally((function(){u.value.isSending=!1}))}else e.notify({type:"negative",message:"请输入后运行！"})}return(0,n.bv)(v()(b()().mark((function t(){var n;return b()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.getPromptAppPublicList(r);case 2:if(n=t.sent,!(n.length<=0)){t.next=7;break}return e.notify({type:"negative",message:"prompt不存在"}),a.back(),t.abrupt("return");case 7:u.value.appMeta=n[0].meta;case 8:case"end":return t.stop()}}),t)})))),{buildInitMessage:l,onRun:s,data:u}},components:{MarkdownViewer:_.Z}}),W=a(11639),j=a(69885),V=a(44458),P=a(63190),z=a(57133),C=a(22857),I=a(52765),O=a(66611),U=a(50926),D=a(24455),A=a(47501),F=a(30627),N=a(19361),E=a(10935),H=a(69984),J=a.n(H);const R=(0,W.Z)(Q,[["render",g]]);var B=R;J()(Q,"components",{QPage:j.Z,QCard:V.Z,QCardSection:P.Z,QSkeleton:z.ZP,QIcon:C.Z,QPopupProxy:I.Z,QInput:O.Z,QSeparator:U.Z,QBtn:D.Z,QSpinnerDots:A.Z,QPageSticky:F.Z,QFab:N.Z,QFabAction:E.Z})}}]);