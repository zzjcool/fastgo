"use strict";(self.webpackChunkfast_front=self.webpackChunkfast_front||[]).push([[173],{2173:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});n(98998),n(65716),n(40702);var a=n(59835),o=n(86970),u={class:"row justify-between"},r={class:"text-h2 text-weight-bold"},i={class:"column items-center column"},l=(0,a._)("div",{class:"full-width"},[(0,a._)("div",{class:"q-px-md q-py-md bg-secondary text-white"}," 参数修改 ")],-1),s={class:"overflow-hidden bg-transparent q-pa-md",style:{width:"200px"}},c={class:"row q-col-gutter-md"},p={class:"bg-white rounded-borders overflow-hidden"},d={class:"row justify-between"},f={class:"text-subtitle2 col"},m={class:"column justify-end q-pl-sm"};var g=n(47798),v=n.n(g),w=n(1001),h=n.n(w),b=n(4138),y=n.n(b),k=(n(34442),n(31408),n(52519),n(61732),n(25328),n(69665),n(59437),n(24110),n(60499)),x=n(82289),q=n(98118),_=n(19302),Z=n(28339),S=n(53173),M=(0,a.aZ)({name:"PromptApp",setup:function(){var e=(0,_.Z)(),t=(0,Z.yj)(),n=(0,Z.tv)(),o=(0,S.a)(),u=t.query.promptId;if(!u)return e.notify({type:"negative",message:"prompt不存在"}),void n.back();String.prototype.interpolate=function(e){try{var t=Object.keys(e),n=Object.values(e);return y()(Function,t.concat(["return `".concat(this,"`;")])).apply(void 0,n)}catch(a){return"出错了："+a}};var r=(0,k.iH)({appMeta:{},input:"",output:"",isSetting:!1,isSending:!1});function i(e,t){var n={};e&&e.forEach((function(e){n[e.name]=e.defaultValue}));for(var a=JSON.parse(JSON.stringify(t)),o=0;o<t.length;o++)a[o].content=t[o].content.interpolate(n);return a}function l(t){t&&e.notify({type:"negative",message:"出错了！错误信息："+t})}return(0,a.bv)(h()(v()().mark((function t(){var a;return v()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.getPromptAppPublicList(u);case 2:if(!((a=t.sent).length<=0)){t.next=7;break}return e.notify({type:"negative",message:"prompt不存在"}),n.back(),t.abrupt("return");case 7:r.value.appMeta=a[0].meta;case 8:case"end":return t.stop()}}),t)})))),{buildInitMessage:i,onRun:function(){if(""!=r.value.input){r.value.output="",r.value.isSending=!0;var t=i(r.value.appMeta.values,r.value.appMeta.messages);t.push({role:"user",content:r.value.input}),(0,x.fh)(t,(function(e){r.value.output+=e}),(function(t,n){switch(t){case"DONE":break;case"Insufficient balance":e.notify({type:"negative",message:"余额不足，请先前往个人信息页面充值"}),l();break;default:console.log(t,n)}})).catch(l).finally((function(){r.value.isSending=!1}))}else e.notify({type:"negative",message:"请输入后运行！"})},data:r}},components:{MarkdownViewer:q.default}}),j=n(11639),P=n(69885),Q=n(44458),W=n(63190),V=n(57133),H=n(22857),O=n(46264),z=n.n(O),C=(n(80676),n(65735),n(58665),n(32074)),F=n(56362),I=n(74397),N=(0,n(65987).L)({name:"QPopupProxy",props:z()(z()({},I.u),{},{breakpoint:{type:[String,Number],default:450}}),emits:["show","hide"],setup:function(e,t){var n=t.slots,o=t.emit,u=t.attrs,r=(0,a.FN)().proxy,i=r.$q,l=(0,k.iH)(!1),s=(0,k.iH)(null),c=(0,a.Fl)((function(){return parseInt(e.breakpoint,10)})),p=(0,I.Z)({showing:l}).canShow;function d(){return i.screen.width<c.value||i.screen.height<c.value?"dialog":"menu"}var f=(0,k.iH)(d()),m=(0,a.Fl)((function(){return"menu"===f.value?{maxHeight:"99vh"}:{}}));function g(e){l.value=!0,o("show",e)}function v(e){l.value=!1,f.value=d(),o("hide",e)}return(0,a.YP)((function(){return d()}),(function(e){!0!==l.value&&(f.value=e)})),Object.assign(r,{show:function(e){!0===p(e)&&s.value.show(e)},hide:function(e){s.value.hide(e)},toggle:function(e){s.value.toggle(e)}}),function(){var t,o=z()(z()(z()({ref:s},m.value),u),{},{onShow:g,onHide:v});return"dialog"===f.value?t=C.Z:(t=F.Z,Object.assign(o,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),(0,a.h)(t,o,n.default)}}}),U=n(66611),D=n(50926),A=n(24455),E=n(47501),J=n(30627),L=n(19361),R=n(10935),Y=n(69984),B=n.n(Y);var K=(0,j.Z)(M,[["render",function(e,t,n,g,v,w){var h=(0,a.up)("q-skeleton"),b=(0,a.up)("q-input"),y=(0,a.up)("q-card"),k=(0,a.up)("q-popup-proxy"),x=(0,a.up)("q-icon"),q=(0,a.up)("q-separator"),_=(0,a.up)("q-btn"),Z=(0,a.up)("q-card-section"),S=(0,a.up)("q-spinner-dots"),M=(0,a.up)("MarkdownViewer"),j=(0,a.up)("q-fab-action"),P=(0,a.up)("q-fab"),Q=(0,a.up)("q-page-sticky"),W=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(W,{class:"column items-center q-gutter-md q-py-md"},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{flat:"",class:"main-width bg-primary text-white"},{default:(0,a.w5)((function(){return[(0,a.Wm)(Z,null,{default:(0,a.w5)((function(){return[(0,a._)("div",u,[(0,a._)("div",r,[(0,a.Uk)((0,o.zw)(e.data.appMeta.title),1),e.data.appMeta.title?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(h,{key:0,width:"100px",bordered:"",type:"text"}))]),(0,a.Wm)(x,{size:"28px",color:"accent",name:"settings"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{class:"no-shadow bg-transparent"},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{flat:"",class:"bg-main"},{default:(0,a.w5)((function(){return[(0,a._)("div",i,[l,(0,a._)("div",s,[(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.appMeta.values,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{key:t,class:"col-12"},[(0,a._)("div",p,[(0,a.Wm)(b,{"bg-color":"white",borderless:"",modelValue:e.defaultValue,"onUpdate:modelValue":function(t){return e.defaultValue=t},label:e.comment,class:"q-px-md bg-white","hide-bottom-space":"",placeholder:"Placeholder",standout:"bg-white"},null,8,["modelValue","onUpdate:modelValue","label"])])])})),128))])])])]})),_:1})]})),_:1})]})),_:1})]),(0,a.Wm)(q,{class:"q-my-md",dark:""}),(0,a._)("div",d,[(0,a._)("pre",f,[(0,a.Uk)((0,o.zw)(e.data.appMeta.comment),1),e.data.appMeta.title?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(h,{key:0,bordered:"",type:"text"}))]),(0,a._)("div",m,[(0,a.Wm)(_,{flat:"",round:"",size:"20px",disable:e.data.isSending,class:"text-white bg-green-6",onClick:t[0]||(t[0]=function(t){return e.onRun()}),icon:"play_arrow"},null,8,["disable"])])])]})),_:1})]})),_:1}),(0,a.Wm)(y,{flat:"",class:"main-width overflow-hidden bg-white"},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{"bg-color":"white",borderless:"",autofocus:"","hide-bottom-space":"",placeholder:e.data.appMeta.example,class:"q-px-md q-py-md","input-class":"hide-scrollbar","input-style":"min-height:50px;max-height:unset;color:black;font-size:18px;padding:0;",autogrow:"",modelValue:e.data.input,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.input=t}),type:"textarea"},null,8,["placeholder","modelValue"])]})),_:1}),""!=e.data.output||e.data.isSending?((0,a.wg)(),(0,a.j4)(y,{key:0,flat:"",class:"main-width overflow-hidden q-px-md q-py-sm"},{default:(0,a.w5)((function(){return[""==e.data.output?((0,a.wg)(),(0,a.j4)(S,{key:0,size:"40px"})):((0,a.wg)(),(0,a.j4)(M,{key:1,content:e.data.output},null,8,["content"]))]})),_:1})):(0,a.kq)("",!0),(0,a.Wm)(Q,{position:"bottom-right",offset:[18,18]},{default:(0,a.w5)((function(){return[(0,a.Wm)(P,{flat:"",style:{background:"rgba(154, 154, 154, 0.5)"},"label-class":"bg-accent","text-color":"black",color:"transparent",icon:"keyboard_arrow_up",direction:"up"},{default:(0,a.w5)((function(){return[(0,a.Wm)(j,{label:"开发中","external-label":"",unelevated:"","label-position":"left",color:"accent","text-color":"white",icon:"settings"})]})),_:1})]})),_:1})]})),_:1})}]]);B()(M,"components",{QPage:P.Z,QCard:Q.Z,QCardSection:W.Z,QSkeleton:V.ZP,QIcon:H.Z,QPopupProxy:N,QInput:U.Z,QSeparator:D.Z,QBtn:A.Z,QSpinnerDots:E.Z,QPageSticky:J.Z,QFab:L.Z,QFabAction:R.Z})}}]);