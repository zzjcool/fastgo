"use strict";(self["webpackChunkfast_front"]=self["webpackChunkfast_front"]||[]).push([[969],{20969:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(59835),r=n(61957),o={class:"col",style:{width:"400px","max-width":"90%"}},l={class:"col",style:{width:"400px","max-width":"90%"}},i={class:"col",style:{width:"400px","max-width":"90%"}},u={class:"col",style:{width:"400px","max-width":"90%"}},s={class:"col",style:{width:"400px","max-width":"90%"}},c={class:"col row justify-center items-center",style:{width:"400px","max-width":"90%"}},p={class:"col",style:{width:"400px","max-width":"90%"}};function d(e,t,n,d,m,f){var y=(0,a.up)("q-icon"),w=(0,a.up)("q-input"),b=(0,a.up)("vue-hcaptcha"),h=(0,a.up)("q-btn"),v=(0,a.up)("q-form"),g=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(g,{class:"flex column items-center flex-center"},{default:(0,a.w5)((function(){return[(0,a.Wm)(v,{class:"items-center flex flex-center column q-col-gutter-md",ref:"formRef",onKeypress:t[8]||(t[8]=(0,r.D2)((function(t){return e.loginOnclick(e.submitData)}),["enter"]))},{default:(0,a.w5)((function(){return[(0,a._)("div",o,[(0,a.Wm)(w,{color:"primary","hide-bottom-space":"","label-color":"secondary","bg-color":"white",outlined:"",modelValue:e.submitData.email,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.submitData.email=t}),label:"邮箱",rules:[function(t){return e.rules.email(t)||"请输入合法的邮箱"},function(e){return""!=e||"不能为空"}]},{prepend:(0,a.w5)((function(){return[(0,a.Wm)(y,{name:"person",color:"primary"})]})),_:1},8,["modelValue","rules"])]),(0,a._)("div",l,[(0,a.Wm)(w,{color:"primary","hide-bottom-space":"","label-color":"secondary","bg-color":"white",outlined:"",modelValue:e.submitData.name,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.submitData.name=t}),label:"用户名",rules:[function(e){return e.length>=2&&e.length<=64||"最小长度2最大长度64"}]},{prepend:(0,a.w5)((function(){return[(0,a.Wm)(y,{name:"person",color:"primary"})]})),_:1},8,["modelValue","rules"])]),(0,a._)("div",i,[(0,a.Wm)(w,{color:"primary","hide-bottom-space":"","label-color":"secondary","bg-color":"white",type:e.status.pwd1?"password":"text",outlined:"",modelValue:e.submitData.password,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.submitData.password=t}),rules:[function(e){return""!=e||"不能为空"}],label:"密码"},{prepend:(0,a.w5)((function(){return[(0,a.Wm)(y,{name:"lock",color:"primary"})]})),append:(0,a.w5)((function(){return[(0,a.Wm)(y,{name:e.status.pwd1?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[2]||(t[2]=function(t){return e.status.pwd1=!e.status.pwd1})},null,8,["name"])]})),_:1},8,["type","modelValue","rules"])]),(0,a._)("div",u,[(0,a.Wm)(w,{"hide-bottom-space":"",color:"primary","label-color":"secondary","bg-color":"white",type:e.status.pwd2?"password":"text",outlined:"",modelValue:e.submitData.password2,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.submitData.password2=t}),hint:"两次密码需要保持一致",rules:[function(t){return t==e.submitData.password||"两次密码不同"}],label:"重复密码"},{prepend:(0,a.w5)((function(){return[(0,a.Wm)(y,{name:"lock",color:"primary"})]})),append:(0,a.w5)((function(){return[(0,a.Wm)(y,{name:e.status.pwd2?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[4]||(t[4]=function(t){return e.status.pwd2=!e.status.pwd2})},null,8,["name"])]})),_:1},8,["type","modelValue","rules"])]),(0,a._)("div",s,[(0,a.Wm)(w,{"hide-bottom-space":"",color:"primary","label-color":"secondary","bg-color":"white",outlined:"",modelValue:e.submitData.code,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.submitData.code=t}),label:"邀请码(可选)",rules:[function(t){return!t||e.rules.uuid(t)||"请输入正确的邀请码"}]},{prepend:(0,a.w5)((function(){return[(0,a.Wm)(y,{name:"key",color:"primary"})]})),_:1},8,["modelValue","rules"])]),(0,a._)("div",c,[(0,a.Wm)(b,{class:"",ref:"capRef",onVerify:e.onVerify,sitekey:"3420e08f-70d9-46f4-806b-a7f060dfa2fb"},null,8,["onVerify"])]),(0,a._)("div",p,[(0,a.Wm)(h,{unelevated:"",color:"primary",label:"注册",style:{width:"100%"},onClick:t[7]||(t[7]=function(t){return e.loginOnclick(e.submitData)})})])]})),_:1},512)]})),_:1})}var m=n(47798),f=n.n(m),y=n(1001),w=n.n(y),b=(n(69665),n(92138)),h=n(60499),v=n(28339),g=n(36201),x=n.n(g),k=n(19302),V=n(17218),_=(0,a.aZ)({name:"RegisterPage",components:{VueHcaptcha:V.Z},setup:function(){var e=(0,v.yj)(),t=(0,v.tv)(),n=(0,k.Z)(),a=(0,h.iH)(null),r=(0,h.iH)(null),o=(0,h.iH)({email:x().isEmail,require:x().NonNullable,uuid:x().isUUID}),l=(0,h.iH)({email:"",name:"",password:"",password2:"",code:e.query.code,token:""}),i=(0,h.iH)({pwd1:!0,pwd2:!0});function u(e){return s.apply(this,arguments)}function s(){return s=w()(f()().mark((function e(o){var l;return f()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.value.validate();case 2:if(l=e.sent,l){e.next=5;break}return e.abrupt("return");case 5:if(""!=o.token){e.next=8;break}return n.notify({type:"negative",message:"请完成验证码！"}),e.abrupt("return");case 8:(0,b.z2)(o).then((function(e){n.notify({type:"positive",message:"注册成功,请登录！"}),t.push({name:"login"})})).catch((function(e){r.value.reset(),null!=e&&(20102==e.response.data.code?n.notify({type:"negative",message:"邮箱已注册"}):20104==e.response.data.code?n.notify({type:"negative",message:"注册失败，请检查邀请码是否正确"}):20107==e.response.data.code?n.notify({type:"negative",message:"请完成验证码"}):n.notify({type:"negative",message:"注册失败，错误信息："+e.response.data.message}))}));case 9:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function c(e){l.value.token=e}return{onVerify:c,loginOnclick:u,submitData:l,status:i,formRef:a,rules:o,capRef:r}}}),D=n(11639),W=n(69885),Z=n(8326),q=n(66611),U=n(22857),H=n(24455),C=n(69984),Q=n.n(C);const R=(0,D.Z)(_,[["render",d]]);var j=R;Q()(_,"components",{QPage:W.Z,QForm:Z.Z,QInput:q.Z,QIcon:U.Z,QBtn:H.Z})}}]);