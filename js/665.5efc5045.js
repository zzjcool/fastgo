"use strict";(self["webpackChunkfast_front"]=self["webpackChunkfast_front"]||[]).push([[665],{99665:function(e,n,t){t.r(n),t.d(n,{default:function(){return he}});var a=t(59835),l=(0,a._)("div",{class:"text-h6 q-pa-md text-bold"},"常用模版",-1),o=(0,a._)("div",null,"依赖加载中...",-1);function r(e,n,t,r,i,c){var u=(0,a.up)("render-template"),s=(0,a.up)("q-separator"),d=(0,a.up)("q-spinner-gears"),p=(0,a.up)("q-inner-loading"),v=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(v,null,{default:(0,a.w5)((function(){return[l,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.rows.data.list,(function(n,t){return(0,a.wg)(),(0,a.j4)(u,{key:t,name:n.title,descript:n.remark,renderFunc:e.renderFunc,val:n.defaultValues,tpl:n.template},null,8,["name","descript","renderFunc","val","tpl"])})),128)),(0,a.Wm)(s),(0,a.Wm)(p,{showing:e.wasmLoading},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{size:"50px",color:"primary"}),o]})),_:1},8,["showing"])]})),_:1})}var i=t(47798),c=t.n(i),u=t(1001),s=t.n(u),d=(t(65716),t(59437),t(22725),[{name:"tdmq cloud",descript:"dd",val:t(48870).Z,tpl:t(98884).Z}]),p=t(40270),v=t(65054),m=t(19302),f=t(60499),h={class:"column q-pa-md"},g={class:"row items-center q-col-gutter-md",style:{width:"100%"}},b={class:"col-12 col-sm-6"},x={class:"q-gutter-xs"},w={class:"template-text-input"},y={class:"col-12 col-sm-6"},S={class:"q-gutter-xs"},C={class:"template-text-input"},q={class:"col-12"},_={class:"q-gutter-xs"},Z={class:"template-text-input"};function T(e,n,t,l,o,r){var i=(0,a.up)("q-btn"),c=(0,a.up)("codemirror"),u=(0,a.up)("q-expansion-item");return(0,a.wg)(),(0,a.j4)(u,{label:e.name,caption:e.descript,"header-class":"bg-primary text-white",class:"expansion"},{default:(0,a.w5)((function(){return[(0,a._)("div",h,[(0,a._)("div",g,[(0,a._)("div",b,[(0,a._)("div",x,[(0,a.Wm)(i,{unelevated:"",square:"",icon:"start",color:"accent",label:"渲染",onClick:e.handleTemplate},null,8,["onClick"]),(0,a.Wm)(i,{unelevated:"",square:"",color:"primary",label:"复制到剪切板",onClick:n[0]||(n[0]=function(n){return e.copyHandle(e.val)})}),(0,a.Wm)(i,{unelevated:"",square:"",icon:"cancel",color:"primary",label:"还原",onClick:e.handleInital},null,8,["onClick"])]),(0,a._)("div",w,[(0,a.Wm)(c,{modelValue:e.newVal,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.newVal=n}),class:"template-text-input",placeholder:"变量",style:{height:"400px"},autofocus:!1,"indent-with-tab":!0,"tab-size":2,extensions:e.extensions,onReady:e.handleReady,onChange:e.handleCache},null,8,["modelValue","extensions","onReady","onChange"])])]),(0,a._)("div",y,[(0,a._)("div",S,[(0,a.Wm)(i,{unelevated:"",square:"",color:"primary",label:"复制到剪切板",onClick:n[2]||(n[2]=function(n){return e.copyHandle(e.newTpl)})})]),(0,a._)("div",C,[(0,a.Wm)(c,{modelValue:e.newTpl,"onUpdate:modelValue":n[3]||(n[3]=function(n){return e.newTpl=n}),disabled:"",class:"template-text-input",placeholder:"渲染模版",style:{height:"400px"},autofocus:!1,"indent-with-tab":!0,"tab-size":2,extensions:e.extensions,onReady:e.handleReady,onChange:e.handleTemplate},null,8,["modelValue","extensions","onReady","onChange"])])]),(0,a._)("div",q,[(0,a._)("div",_,[(0,a.Wm)(i,{unelevated:"",square:"",color:"primary",label:"复制到剪切板",onClick:n[4]||(n[4]=function(n){return e.copyHandle(e.output)})})]),(0,a._)("div",Z,[(0,a.Wm)(c,{modelValue:e.output,"onUpdate:modelValue":n[5]||(n[5]=function(n){return e.output=n}),disabled:"",class:"template-text-input",placeholder:"渲染结果",style:{height:"600px"},autofocus:!1,"indent-with-tab":!0,"tab-size":2,extensions:e.extensions,onReady:e.handleReady,onChange:e.handleTemplate},null,8,["modelValue","extensions","onReady","onChange"])])])])])]})),_:1},8,["label","caption"])}t(98998),t(77280),t(40702);var I=(0,a.aZ)({name:"RenderTemplate",props:{name:String,descript:String,val:String,tpl:String,renderFunc:Function},setup:function(e){return s()(c()().mark((function n(){var l,o,r,i,u,d,p,h,g,b,x,w,y,S;return c()().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return l=(0,m.Z)(),o="GoTemplate_".concat(e.name),r=(0,f.iH)(e.val),i=(0,f.iH)(e.tpl),u=(0,f.iH)(""),d=(0,f.iH)(!1),p=l.localStorage.getItem(o),null!=p&&""!=p&&(r.value=p),h=function(){u.value=e.renderFunc(r.value,i.value),d.value=!0},g=function(e){l.localStorage.set(o,e)},b=function(){r.value=e.val,g(r.value)},x=(0,f.iH)([]),(0,a.bv)(s()(c()().mark((function e(){var n,a;return c()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(736),t.e(64),t.e(277)]).then(t.bind(t,72277));case 2:return n=e.sent,e.next=5,Promise.all([t.e(736),t.e(64),t.e(133)]).then(t.bind(t,32133));case 5:a=e.sent,x.value=[n.javascript(),a.oneDark];case 7:case"end":return e.stop()}}),e)})))),w=(0,f.XI)(),y=function(e){w.value=e.view},S=function(e){(0,v.Z)(e).then((function(){l.notify({message:"复制成功！",color:"positive",timeout:"1"})})).catch((function(){l.notify({message:"复制失败！",color:"negative",timeout:"1"})}))},n.abrupt("return",{extensions:x,handleReady:y,log:console.log,newVal:r,newTpl:i,output:u,isOutput:d,copyHandle:S,handleTemplate:h,handleCache:g,handleInital:b});case 17:case"end":return n.stop()}}),n)})))()},components:{Codemirror:(0,a.RC)(s()(c()().mark((function e(){var n;return c()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(736),t.e(64),t.e(849)]).then(t.bind(t,84993));case 2:return n=e.sent,e.abrupt("return",n.Codemirror);case 4:case"end":return e.stop()}}),e)}))))}}),L=t(11639),k=t(38761),F=t.n(k),H=t(50001),j=t.n(H),R=t(46264),V=t.n(R),z=(t(34442),t(80676),t(52519),t(61732),t(58665),t(86890),t(69665),t(61957)),N=t(490),W=t(76749),O=t(33115),P=t(22857),Q=t(69003),B=t(50926),A=t(68234),G=t(70945),M=t(63842),U=t(65987),Y=t(91384),D=t(22026),E=t(50796),X=(0,f.Um)({}),$=Object.keys(G.$),K=(0,U.L)({name:"QExpansionItem",props:V()(V()(V()(V()({},G.$),M.vr),A.S),{},{icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]}),emits:[].concat(j()(M.gH),["click","after-show","after-hide"]),setup:function(e,n){var t,l,o=n.slots,r=n.emit,i=(0,a.FN)(),c=i.proxy.$q,u=(0,A.Z)(e,c),s=(0,f.iH)(null!==e.modelValue?e.modelValue:e.defaultOpened),d=(0,f.iH)(null),p=(0,M.ZP)({showing:s}),v=p.hide,m=p.toggle,h=(0,a.Fl)((function(){return"q-expansion-item q-item-type"+" q-expansion-item--".concat(!0===s.value?"expanded":"collapsed")+" q-expansion-item--".concat(!0===e.popup?"popup":"standard")})),g=(0,a.Fl)((function(){if(void 0===e.contentInsetLevel)return null;var n=!0===c.lang.rtl?"Right":"Left";return F()({},"padding"+n,56*e.contentInsetLevel+"px")})),b=(0,a.Fl)((function(){return!0!==e.disable&&(void 0!==e.href||void 0!==e.to&&null!==e.to&&""!==e.to)})),x=(0,a.Fl)((function(){var n={};return $.forEach((function(t){n[t]=e[t]})),n})),w=(0,a.Fl)((function(){return!0===b.value||!0!==e.expandIconToggle})),y=(0,a.Fl)((function(){return void 0!==e.expandedIcon&&!0===s.value?e.expandedIcon:e.expandIcon||c.iconSet.expansionItem[!0===e.denseToggle?"denseIcon":"icon"]})),S=(0,a.Fl)((function(){return!0!==e.disable&&(!0===b.value||!0===e.expandIconToggle)}));function C(e){!0!==b.value&&m(e),r("click",e)}function q(e){13===e.keyCode&&_(e,!0)}function _(e,n){!0!==n&&null!==d.value&&d.value.focus(),m(e),(0,Y.NS)(e)}function Z(){r("after-show")}function T(){r("after-hide")}function I(){void 0===t&&(t=(0,E.Z)()),!0===s.value&&(X[e.group]=t);var n=(0,a.YP)(s,(function(n){!0===n?X[e.group]=t:X[e.group]===t&&delete X[e.group]})),o=(0,a.YP)((function(){return X[e.group]}),(function(e,n){n===t&&void 0!==e&&e!==t&&v()}));l=function(){n(),o(),X[e.group]===t&&delete X[e.group],l=void 0}}function L(){var n={class:["q-focusable relative-position cursor-pointer"+"".concat(!0===e.denseToggle&&!0===e.switchToggleSide?" items-end":""),e.expandIconClass],side:!0!==e.switchToggleSide,avatar:e.switchToggleSide},t=[(0,a.h)(P.Z,{class:"q-expansion-item__toggle-icon"+(void 0===e.expandedIcon&&!0===s.value?" q-expansion-item__toggle-icon--rotated":""),name:y.value})];return!0===S.value&&(Object.assign(n,{tabindex:0,onClick:_,onKeyup:q}),t.unshift((0,a.h)("div",{ref:d,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),(0,a.h)(W.Z,n,(function(){return t}))}function k(){var n;return void 0!==o.header?n=[].concat(o.header({expanded:!0===s.value})):(n=[(0,a.h)(W.Z,(function(){return[(0,a.h)(O.Z,{lines:e.labelLines},(function(){return e.label||""})),e.caption?(0,a.h)(O.Z,{lines:e.captionLines,caption:!0},(function(){return e.caption})):null]}))],e.icon&&n[!0===e.switchToggleSide?"push":"unshift"]((0,a.h)(W.Z,{side:!0===e.switchToggleSide,avatar:!0!==e.switchToggleSide},(function(){return(0,a.h)(P.Z,{name:e.icon})})))),!0!==e.disable&&n[!0===e.switchToggleSide?"unshift":"push"](L()),n}function H(){var n={ref:"item",style:e.headerStyle,class:e.headerClass,dark:u.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return!0===w.value&&(n.clickable=!0,n.onClick=C,!0===b.value&&Object.assign(n,x.value)),(0,a.h)(N.Z,n,k)}function j(){return(0,a.wy)((0,a.h)("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:g.value},(0,D.KR)(o.default)),[[z.F8,s.value]])}function R(){var n=[H(),(0,a.h)(Q.Z,{duration:e.duration,onShow:Z,onHide:T},j)];return!0===e.expandSeparator&&n.push((0,a.h)(B.Z,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:u.value}),(0,a.h)(B.Z,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:u.value})),n}return(0,a.YP)((function(){return e.group}),(function(e){void 0!==l&&l(),void 0!==e&&I()})),void 0!==e.group&&I(),(0,a.Jd)((function(){void 0!==l&&l()})),function(){return(0,a.h)("div",{class:h.value},[(0,a.h)("div",{class:"q-expansion-item__container relative-position"},R())])}}}),J=t(24455),ee=t(18149),ne=t(69984),te=t.n(ne);const ae=(0,L.Z)(I,[["render",T]]);var le=ae;te()(I,"components",{QExpansionItem:K,QBtn:J.Z,QField:ee.Z,QItem:N.Z});var oe=t(33017),re="GoTemplate",ie=(0,a.aZ)({name:"GoTemplate",setup:function(){var e=(0,m.Z)(),n=t(48870).Z,l=t(98884).Z,o=new Go,r=(0,f.iH)(!0),i=function(){var e=s()(c()().mark((function e(){var n,t,a;return c()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("template.wasm");case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:return t=e.sent,e.next=8,WebAssembly.instantiate(t,o.importObject);case 8:a=e.sent,o.run(a.instance),r.value=!1;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i();var u=function(e,n){return render(e,n)},h=e.localStorage.getItem(re),g=(0,f.iH)(""),b=(0,f.iH)(""),x=(0,f.XI)(),w=function(e){x.value=e.view},y=function(n){b.value=p.lW.from(n,"utf-8").toString("base64"),e.localStorage.set(re,b.value)},S=function(n){g.value=p.lW.from(n,"base64").toString("utf8"),e.localStorage.set(re,b.value)};h&&(b.value=h,S(h));var C=(0,f.iH)({data:[]});(0,a.wF)(s()(c()().mark((function e(){return c()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,oe.A8)(0,10);case 2:C.value=e.sent;case 3:case"end":return e.stop()}}),e)}))));var q=function(n){(0,v.Z)(n).then((function(){e.notify({message:"复制成功！",color:"positive",timeout:"1"})})).catch((function(){e.notify({message:"复制失败！",color:"negative",timeout:"1"})}))};return(0,oe.A8)(0,10),{code:g,handleReady:w,log:console.log,handSrc:y,handDst:S,base64:b,copyHandle:q,wasmLoading:r,renderFunc:u,val:n,tpl:l,tplList:d,rows:C}},components:{RenderTemplate:le}}),ce=t(69885),ue=t(13902),se=t(20431),de=(0,U.L)({name:"QInnerLoading",props:V()(V()(V()({},A.S),se.D),{},{showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]}),setup:function(e,n){var t=n.slots,l=(0,a.FN)(),o=(0,A.Z)(e,l.proxy.$q),r=(0,se.Z)(e,(0,a.Fl)((function(){return e.showing}))),i=r.transition,c=r.transitionStyle,u=(0,a.Fl)((function(){return"q-inner-loading absolute-full column flex-center"+(!0===o.value?" q-inner-loading--dark":"")})),s=(0,a.Fl)((function(){return"q-inner-loading__label"+(void 0!==e.labelClass?" ".concat(e.labelClass):"")}));function d(){var n=[(0,a.h)(ue.Z,{size:e.size,color:e.color})];return void 0!==e.label&&n.push((0,a.h)("div",{class:s.value,style:e.labelStyle},[e.label])),n}function p(){return!0===e.showing?(0,a.h)("div",{class:u.value,style:c.value},void 0!==t.default?t.default():d()):null}return function(){return(0,a.h)(z.uT,{name:i.value,appear:!0},p)}}}),pe=t(8313),ve=[(0,a.h)("g",{transform:"translate(-20,-20)"},[(0,a.h)("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[(0,a.h)("animateTransform",{attributeName:"transform",type:"rotate",from:"90 50 50",to:"0 50 50",dur:"1s",repeatCount:"indefinite"})])]),(0,a.h)("g",{transform:"translate(20,20) rotate(15 50 50)"},[(0,a.h)("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[(0,a.h)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"90 50 50",dur:"1s",repeatCount:"indefinite"})])])],me=(0,U.L)({name:"QSpinnerGears",props:pe.G,setup:function(e){var n=(0,pe.Z)(e),t=n.cSize,l=n.classes;return function(){return(0,a.h)("svg",{class:l.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},ve)}}});const fe=(0,L.Z)(ie,[["render",r]]);var he=fe;te()(ie,"components",{QPage:ce.Z,QSeparator:B.Z,QInnerLoading:de,QSpinnerGears:me,QField:ee.Z})},98884:function(e,n){n["Z"]='#############################################\n# 查询PVC信息\ncurl --location --request GET \'http://tdmq-cloud.tdmq-system.svc.cluster.local:10105/pvc?releaseName={{ .clusterId }}&label={{ .pvcLabel }}\' | python3 -m json.tool\n\n\n#############################################\n# pvc扩容\ncurl -X PUT "http://tdmq-cloud:10105/pvc" -H "Authorization: 39c20f65-dc80-4db4-ac23-601eb24d9b0b" -H "Content-Type: application/json" -d \'\n{\n  "releaseName": "{{ .clusterId }}",\n  "label": "{{ .pvcLabel }}",\n  "storage": {{ .pvcStorage }}\n}\n\' | python3 -m json.tool\n\n\n#############################################\n# pvc 同步成最大的盘\ncurl -X POST "http://tdmq-cloud:10105/pvc" -H "Authorization: 39c20f65-dc80-4db4-ac23-601eb24d9b0b" -H "Content-Type: application/json" -d \'\n{\n  "releaseName": "{{ .clusterId }}",\n  "label": "{{ .pvcLabel }}"\n}\n\' | python3 -m json.tool\n\n\n#############################################\n'},48870:function(e,n){n["Z"]='# 集群名\nclusterId: "pulsar-zzj"\n\n################################\n# PVC 扩容相关\n# pvc 标签\npvcLabel: "pulsar-bookie-journal"\npvcStorage: 57\n'}}]);