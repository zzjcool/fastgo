"use strict";(self["webpackChunkfast_front"]=self["webpackChunkfast_front"]||[]).push([[862],{96808:function(t,e,n){n.d(e,{b:function(){return x}});var a=n(47798),r=n.n(a),i=n(1001),s=n.n(i),u=n(3746),o=n(19302),c=n(91569),l="/pay";function d(t){return p.apply(this,arguments)}function p(){return p=s()(r()().mark((function t(e){var n,a,i;return r()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.id,a=e.status,i=e.tradeId,t.abrupt("return",(0,c.api)({url:l+"/list",method:"get",params:{id:n,status:a,tradeId:i}}));case 2:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=s()(r()().mark((function t(e){var n;return r()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.orderId,t.abrupt("return",(0,c.api)({url:l+"/cancel",method:"delete",data:{orderId:n}}));case 2:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function w(t){return h.apply(this,arguments)}function h(){return h=s()(r()().mark((function t(e){var n;return r()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.amount,t.abrupt("return",(0,c.api)({url:l+"/alipay",method:"post",data:{amount:100*n,returnUrl:window.location.origin+"/pay/info"}}));case 2:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}var y=["未知","等待付款","付款成功","已退款","已取消"],v=["未知","微信","支付宝"],x=(0,u.Q_)("pay",(function(){var t=(0,o.Z)();function e(){return n.apply(this,arguments)}function n(){return n=s()(r()().mark((function t(){var e;return r()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d({status:1});case 2:if(e=t.sent,0!=e.data.count){t.next=5;break}return t.abrupt("return","");case 5:return t.abrupt("return",e.data.list[0].tradeId);case 6:case"end":return t.stop()}}),t)}))),n.apply(this,arguments)}function a(t){return i.apply(this,arguments)}function i(){return i=s()(r()().mark((function t(e){var n;return r()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d({tradeId:e});case 2:if(n=t.sent,0!=n.data.count){t.next=5;break}throw"订单不存在";case 5:return t.abrupt("return",n.data.list[0]);case 6:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)}function u(t){return c.apply(this,arguments)}function c(){return c=s()(r()().mark((function t(e){return r()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f({orderId:e});case 2:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function l(t){return p.apply(this,arguments)}function p(){return p=s()(r()().mark((function e(n){var a;return r()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w({amount:n});case 3:return a=e.sent,e.abrupt("return",a.data.tradeId);case 7:if(e.prev=7,e.t0=e["catch"](0),!e.t0.response.data.data||!e.t0.response.data.data.tradeId){e.next=12;break}return t.notify({type:"warning",message:"存在未支付订单，前往处理"}),e.abrupt("return",e.t0.response.data.data.tradeId);case 12:t.notify({type:"negative",message:"请求错误："+e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,7]])}))),p.apply(this,arguments)}return{statusMap:y,paymentTypeMap:v,hasWaitPayOrder:e,getOrderByTradeId:a,cancelOrderById:u,alipayOrder:l}}))},15862:function(t,e,n){n.r(e),n.d(e,{default:function(){return D}});var a=n(59835),r=n(86970),i=(0,a.Uk)("充值详情"),s=(0,a._)("div",{style:{width:"50px"},class:"hidden bg-primary text-white text-subtitle1 row justify-center items-center text-weight-bolder"}," 渠道 ",-1),u={class:"column items-center justify-center"},o={class:""},c=(0,a._)("div",{style:{width:"50px"},class:"hidden bg-primary text-white text-subtitle1 row justify-center items-center text-weight-bolder"}," 金额 ",-1),l={class:"q-py-sm q-px-md col column justify-center"},d=(0,a._)("div",{class:"q-px-xs text-grey-5"},"最多10元",-1),p={style:{width:"50px"},class:"row bg-amber-8 justify-center items-center"},f={class:"text-white"},m=(0,a._)("div",{class:"bg-primary text-white row justify-center items-center"},[(0,a._)("div",{style:{width:"50px"},class:"hidden q-pa-sm text-subtitle1 text-weight-bolder"}," 用量 ")],-1),w={class:"row full-width"},h={class:"row full-width"},y=(0,a._)("div",{class:"q-py-sm q-px-md col column justify-center"},[(0,a._)("div",{class:"q-px-sm"},"GPT3.5 模型 0.03元/千字")],-1),v={style:{width:"120px"},class:"row bg-cyan-7 justify-center items-center"},x={class:"text-white"},b={class:"row full-width"},g=(0,a._)("div",{class:"q-py-sm q-px-md col column justify-center"},[(0,a._)("div",{class:"q-px-sm"},"更多模型正在接入中")],-1),_={style:{width:"120px"},class:"row bg-orange-4 justify-center items-center"},q={class:"text-white"},k={class:"main-width"};function I(t,e,n,I,W,z){var j=this,Z=(0,a.up)("q-card-section"),O=(0,a.up)("q-card"),C=(0,a.up)("q-icon"),M=(0,a.up)("q-option-group"),Q=(0,a.up)("q-rating"),V=(0,a.up)("q-btn"),P=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(P,{class:"column items-center q-pt-md q-gutter-lg"},{default:(0,a.w5)((function(){return[(0,a.Wm)(O,{flat:"",class:"main-width"},{default:(0,a.w5)((function(){return[(0,a.Wm)(Z,{class:"text-weight-bold text-subtitle1 bg-primary text-white"},{default:(0,a.w5)((function(){return[i]})),_:1})]})),_:1}),(0,a.Wm)(O,{flat:"",class:"main-width"},{default:(0,a.w5)((function(){return[(0,a.Wm)(Z,{class:"row",horizontal:""},{default:(0,a.w5)((function(){return[s,(0,a.Wm)(M,{modelValue:t.data.payMethod,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.data.payMethod=e}),options:t.data.payMethodOptions,color:"primary",class:"col q-px-md q-py-sm",inline:""},{label:(0,a.w5)((function(t){return[(0,a._)("div",u,[(0,a.Wm)(C,{class:"self-start",color:t.color,size:"50px",name:t.icon},null,8,["color","name"]),(0,a._)("span",o,(0,r.zw)(t.label),1)])]})),_:1},8,["modelValue","options"])]})),_:1})]})),_:1}),(0,a.Wm)(O,{flat:"",class:"main-width"},{default:(0,a.w5)((function(){return[(0,a.Wm)(Z,{class:"row overflow-hidden",horizontal:""},{default:(0,a.w5)((function(){return[c,(0,a._)("div",l,[(0,a.Wm)(Q,{modelValue:t.data.amount,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.data.amount=e}),size:j.$q.screen.gt.xs?"2em":"1.8em",max:10,icon:"attach_money","icon-selected":"monetization_on",color:"amber-8"},null,8,["modelValue","size"]),d]),(0,a._)("div",p,[(0,a._)("div",f,(0,r.zw)(t.data.amount)+" 元",1)])]})),_:1})]})),_:1}),(0,a.Wm)(O,{flat:"",class:"row overflow-hidden main-width"},{default:(0,a.w5)((function(){return[(0,a.Wm)(Z,{class:"col overflow-hidden",horizontal:""},{default:(0,a.w5)((function(){return[m,(0,a._)("div",w,[(0,a._)("div",h,[y,(0,a._)("div",v,[(0,a._)("div",x,(0,r.zw)((t.data.amount/.03*1e3).toFixed(0))+" 字 ",1)])]),(0,a._)("div",b,[g,(0,a._)("div",_,[(0,a._)("div",q,[(0,a.Wm)(C,{size:"24px",name:"pending"})])])])])]})),_:1})]})),_:1}),(0,a._)("div",k,[(0,a.Wm)(V,{unelevated:"",color:"orange-6",class:"q-pa-md",size:"16px",label:"支付 ".concat(t.data.amount.toFixed(2)," 元"),type:"submit",style:{width:"100%"},onClick:t.onClick},null,8,["label","onClick"])])]})),_:1})}var W=n(47798),z=n.n(W),j=n(1001),Z=n.n(j),O=(n(69665),n(19302)),C=n(96808),M=n(60499),Q=n(28339),V=(0,a.aZ)({name:"InfoPage",setup:function(){var t=(0,C.b)(),e=(0,O.Z)(),n=(0,Q.tv)(),r=(0,M.iH)({payMethod:"",payMethodOptions:[{label:"支付宝",value:"alipay",icon:"fa-brands  fa-alipay",color:"light-blue-14"},{label:"微信支付（接入中）",value:"wechatpay",icon:"fa-brands  fa-weixin",color:"grey-4",disable:!0}],amount:0});function i(){return s.apply(this,arguments)}function s(){return s=Z()(z()().mark((function a(){var i;return z()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return""==r.value.payMethod&&e.notify({type:"warning",message:"请选择支付方式"}),0==r.value.amount&&e.notify({type:"warning",message:"请选择金额"}),a.next=4,t.alipayOrder(r.value.amount);case 4:i=a.sent,console.log(i),n.push({name:"payInfo",query:{tradeId:i}});case 7:case"end":return a.stop()}}),a)}))),s.apply(this,arguments)}return(0,a.bv)(Z()(z()().mark((function a(){var r;return z()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.hasWaitPayOrder();case 2:r=a.sent,""!=r&&(e.notify({type:"warning",message:"当前存在未支付订单，请先处理未支付订单。"}),n.push({name:"payInfo",query:{tradeId:r}}));case 4:case"end":return a.stop()}}),a)})))),{data:r,onClick:i}}}),P=n(11639),U=n(69885),B=n(44458),T=n(63190),F=n(8830),G=n(22857),H=n(1570),R=n(24455),S=n(69984),$=n.n(S);const A=(0,P.Z)(V,[["render",I]]);var D=A;$()(V,"components",{QPage:U.Z,QCard:B.Z,QCardSection:T.Z,QOptionGroup:F.Z,QIcon:G.Z,QRating:H.Z,QBtn:R.Z})}}]);